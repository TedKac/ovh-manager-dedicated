<form class="cdn-dedicated-domain-add">

    <oui-modal data-title="{{ :: 'cdn_dedicated_domain_add_title' | translate }}"
               data-primary-label="{{ :: 'wizard_confirm' | translate }}"
               data-secondary-label="{{ :: 'wizard_cancel' | translate }}"
               data-secondary-action="$ctrl.closeModal()"
               data-on-dismiss="$ctrl.closeModal()"
               data-loading="$ctrl.loading.init">

        <oui-field data-label="{{ :: 'cdn_dedicated_domain_add_name' | translate }}">
            <input class="oui-input"
                   type="text"
                   id="domainName"
                   name="domainName"
                   data-ng-model="$ctrl.model.domainName"
                   data-required
                   data-ng-pattern="/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/" />
        </oui-field>

        <cdn-dedicated-backend-management></cdn-dedicated-backend-management>

        <!-- <p data-translate="cdn_dedicated_domain_backend_update_question"
           data-translate-values="{ t0: $ctrl.cdnDomain.domain }">
        </p>

        <oui-field data-label="{{ :: 'cdn_dedicated_domain_backend_update_choice' | translate }}">
            <label class="oui-select">
                <select class="oui-select__input"
                        id="existingBackend"
                        name="existingBackend"
                        data-ng-model="$ctrl.model.existingBackend"
                        data-ng-options="backend === 'new' ? ('cdn_dedicated_domain_backend_update_choice_new' | translate) : backend for backend in $ctrl.availableBackends">
                </select>
                <i class="oui-icon oui-icon-chevron-down"
                   aria-hidden="true">
                </i>
            </label>
        </oui-field>

        <oui-field data-ng-if="$ctrl.model.existingBackend === 'new' && $ctrl.cdnDedicated.backendLimit > ($ctrl.availableBackends.length - 1)"
                   data-label="{{ :: 'cdn_dedicated_domain_backend_update_new' | translate }}"
                   data-error-messages="{ ipv4: ('cdn_dedicated_domain_backend_update_new_bad_format' | translate) }">
            <input class="oui-input"
                   type="text"
                   id="newBackend"
                   name="newBackend"
                   data-ng-model="$ctrl.model.newBackend"
                   data-ng-required="$ctrl.model.existingBackend === 'new'"
                   data-ui-validate="{ ipv4: '$ctrl.Validator.isValidIpv4($value)' }" />
        </oui-field>

        <div data-ng-if="$ctrl.model.existingBackend === 'new' && $ctrl.cdnDedicated.backendLimit <= ($ctrl.availableBackends.length - 1)">
            <p data-translate="cdn_dedicated_domain_backend_update_full"
               data-translate-values="{ backendOrderSref: 'app.networks.cdn.dedicated.backend.order' }"
               data-translate-compile>
            </p>
        </div> -->

    </oui-modal>

</form>


<!-- <div data-ng-controller="CdnAddDomainsCtrl">

    <div data-wizard
         data-wizard-on-cancel="resetAction"
         data-wizard-on-finish="addDomain"
         data-wizard-title=":: 'cdn_configuration_add_domain_title' | translate"
         data-wizard-bread-crumb>

        <div data-wizard-step
             data-wizard-step-valid="domain.domain">

            <p data-ng-bind=":: 'cdn_configuration_add_domain_step1_question' | translate"></p>
            <input type="text"
                   class="form-control"
                   data-ng-model="domain.domain"
                   data-ng-pattern="/^.+\..+$/" />
        </div>

        <div data-wizard-step
            data-wizard-step-on-load="loadBackends"
            data-wizard-step-valid="isSecondStepValid()">

            <div class="text-center"
                 data-ng-if="!backends">
                <oui-spinner></oui-spinner>
            </div>

            <div data-ng-if="backends">
                <p data-translate="cdn_configuration_add_domain_step2_question"
                    data-translate-values="{ t0: domain.domain }"></p>
                <div class="form-group">
                    <select class="form-control"
                            data-ng-show="backends.results"
                            data-ng-options="backend.ipv4 as backend.ipv4 for backend in backends.results"
                            data-ng-model="domain.backend">
                        <option value=""
                                disabled="disabled"
                                selected="selected"
                                data-translate="cdn_configuration_add_domain_step2_default_backend">
                        </option>
                    </select>
                    <em data-ng-hide="backends.results"
                        data-translate="cdn_configuration_add_domain_step2_no_backend">
                    </em>
                </div>
                <div class="form-group">
                    <label for="newBackend"
                           class="control-label"
                           data-ng-bind=":: 'cdn_configuration_add_domain_step2_addBackend' | translate">
                    </label>
                    <input type="text"
                           class="form-control"
                           name="newBackend"
                           id="newBackend"
                           data-ng-model="newBackend.value"
                           data-ng-pattern="/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/" />
                </div>
                <div class="form-group"
                     data-ng-show="newBackend.value && maxBackendsReached()">
                    <p class="font-weight-bold text-danger"
                       data-translate="cdn_configuration_add_domain_step2_full">
                    </p>
                    <button type="button"
                            class="btn btn-block"
                            data-ng-click="setAction('backend/order/cdn-dedicated-backend-order')"
                            data-translate="cdn_configuration_add_domain_step2_full_buy">
                    </button>
                </div>
            </div>

        </div>

        <div data-wizard-step>

            <p data-translate="cdn_configuration_add_domain_step3_question" data-translate-values="{ t0: cdn.serviceName }"></p>
            <dl>
                <dt data-translate="cdn_configuration_add_domain_step3_domain"></dt>
                <dd data-ng-bind="domain.domain"></dd>
                <dt data-translate="cdn_configuration_add_domain_step3_backend"></dt>
                <dd data-ng-if="domain.backend"
                    data-ng-bind="domain.backend">
                </dd>
                <dd data-ng-if="newBackend.value"
                    data-ng-bind="newBackend.value">
                </dd>
            </dl>

        </div>

    </div>

</div>
 -->

<div data-ng-controller="AddAccessFtpBackupCtrl">

    <div data-wizard
         data-wizard-on-cancel="resetAction"
         data-wizard-on-finish="addFtpBackup"
         data-wizard-title="{{ 'server_configuration_ftpbackup_add' | translate }}"
         data-wizard-confirm-button-text="{{ 'common_terminate' | translate }}"
         data-wizard-hide-cancel-button="true">

        <div data-wizard-step
             data-wizard-step-valid="!loading && access.ip && (access.cifs || access.ftp || access.nfs)"
             data-wizard-step-on-load="load">

            <div class="text-center"
                 data-ng-if="loading">
                <oui-spinner></oui-spinner>
            </div>

            <div data-ng-if="!loading">
                <p data-ng-bind="{{ 'server_configuration_ftpbackup_add_info' | translate }}"></p>
                <p data-ng-bind="{{ 'server_configuration_ftpbackup_add_info3' | translate }}"></p>
                 <label for="ip"
                        class="control-label"
                        data-translate="server_configuration_ftpbackup_add_ip">
                </label>
                <select class="form-control"
                        id="ip"
                        name="ip"
                        multiple
                        data-ng-model="access.ip"
                        data-ng-options="ip for ip in access.listIp">
                </select>
                <form class="form form-inline">
                    <div class="form-group">
                        <p class="form-control-static"
                           data-translate="server_configuration_ftpbackup_add_authorization">
                        </p>
                    </div>
                    <div class="checkbox px-5">
                        <label>
                            <input type="checkbox"
                                   data-ng-model="access.cifs" />
                            <span data-translate="server_configuration_ftpbackup_table_cifs"></span>
                        </label>
                    </div>
                    <div class="checkbox px-5">
                        <label>
                            <input type="checkbox"
                                   data-ng-model="access.ftp" />
                            <span data-translate="server_configuration_ftpbackup_table_ftp"></span>
                        </label>
                    </div>
                    <div class="checkbox px-5">
                        <label>
                            <input type="checkbox"
                                   data-ng-model="access.nfs" />
                            <span data-translate="server_configuration_ftpbackup_table_nfs"></span>
                        </label>
                    </div>
                </form>
            </div>

        </div>

        <div data-wizard-step
             data-wizard-step-valid="!loading">

            <div class="text-center"
                 data-ng-if="loading">
                <oui-spinner></oui-spinner>
            </div>

            <div data-ng-if="!loading">
                <p data-ng-bind-html="'server_configuration_ftpbackup_add_info2' | translate "></p>
                <div class="row">
                    <div class="col-md-6">
                        <p data-ng-bind="{{ 'server_configuration_ftpbackup_add_info1' | translate }}"></p>
                        <ul>
                            <li data-ng-repeat="block in access.ip track by $index"
                                data-ng-bind="block">
                            </li>
                        </ul>
                    </div>
                    <div class="col-md-6">
                        <p data-ng-bind-html="'server_configuration_ftpbackup_add_info4' | translate "></p>
                        <ul>
                            <li>
                                <span data-translate="server_configuration_ftpbackup_table_cifs"></span> :
                                <strong data-ng-if="access.cifs"
                                        data-translate="server_configuration_ftpbackup_add_allow">
                                </strong>
                                <strong data-ng-if="!access.cifs"
                                        data-translate="server_configuration_ftpbackup_add_deny">
                                </strong>
                            </li>
                            <li>
                                <span data-translate="server_configuration_ftpbackup_table_ftp"></span> :
                                <strong data-ng-if="access.ftp"
                                        data-translate="server_configuration_ftpbackup_add_allow">
                                </strong>
                                <strong data-ng-if="!access.ftp"
                                        data-translate="server_configuration_ftpbackup_add_deny">
                                </strong>
                            </li>
                            <li>
                                <span data-translate="server_configuration_ftpbackup_table_nfs"></span> :
                                <strong data-ng-if="access.nfs"
                                        data-translate="server_configuration_ftpbackup_add_allow">
                                </strong>
                                <strong data-ng-if="!access.nfs"
                                        data-translate="server_configuration_ftpbackup_add_deny">
                                </strong>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>

        </div>

    </div>

</div>
